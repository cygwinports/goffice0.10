--- origsrc/goffice-0.10.0/docs/reference/Makefile.am	2012-12-04 17:45:16.000000000 -0600
+++ src/goffice-0.10.0/docs/reference/Makefile.am	2012-12-27 01:12:25.340525300 -0600
@@ -8,7 +8,7 @@ DOC_SOURCE_DIR=../../goffice
 
 SCANGOBJ_OPTIONS= --nogtkinit --type-init-func="g_type_init ()"
 
-SCAN_OPTIONS= --deprecated-guards="GOFFICE_DISABLE_DEPRECATED" --rebuild-types
+SCAN_OPTIONS= --deprecated-guards="GOFFICE_DISABLE_DEPRECATED"
 
 MKDB_OPTIONS=--xml-mode --output-format=xml
 
--- origsrc/goffice-0.10.0/docs/reference/goffice-0.10.types	2012-12-18 17:47:18.000000000 -0600
+++ src/goffice-0.10.0/docs/reference/goffice-0.10.types	2012-12-27 00:49:44.781401800 -0600
@@ -17,7 +17,6 @@
 go_component_mime_dialog_get_type
 go_conf_node_get_type
 go_cspline_get_type
-go_csplinel_get_type
 go_data_get_type
 go_data_matrix_get_type
 go_data_matrix_val_get_type
@@ -73,7 +72,6 @@
 go_plugin_service_resource_get_type
 go_plugin_service_simple_get_type
 go_regression_stat_get_type
-go_regression_statl_get_type
 go_resource_type_get_type
 go_rotation_sel_get_type
 go_search_replace_get_type
--- origsrc/goffice-0.10.18/goffice/math/go-dtoa.c	2014-09-21 17:03:01.000000000 -0500
+++ src/goffice-0.10.18/goffice/math/go-dtoa.c	2015-01-04 15:47:07.521158500 -0600
@@ -174,7 +174,11 @@ static int fmt_fp(FAKE_FILE *f, long dou
 		return MAX(w, 3+pl);
 	}
 
+#ifdef GOFFICE_WITH_LONG_DOUBLE
 	y = frexpl(y, &e2) * 2;
+#else
+	y = frexp(y, &e2) * 2;
+#endif
 	if (y) e2--;
 
 	if ((t|32)=='a') {
